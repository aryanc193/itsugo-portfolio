/* timeline.css */
.timeline-svg {
  overflow: visible; /* ensure no clipping */
}

/* base node variables + defaults */
.timeline-node {
  --dot-r: 6;
  --dot-stroke: 1.2;
  --click-r: 18;

  --glow-scale: 1.12;
  --pulse-duration: 2200ms;

  font-family: Inter, ui-sans-serif, system-ui;
  pointer-events: auto;
}

/* ensure CSS transforms on SVG elements behave as expected */
.label-group,
.node-glow-pulse {
  transform-box: fill-box;
  transform-origin: center;
}

/* glow pulse animation */
.node-glow-pulse {
  animation: nodePulse var(--pulse-duration) ease-in-out infinite;
  opacity: 0.55;
}

@keyframes nodePulse {
  0% {
    transform: scale(0.85);
    opacity: 0.55;
  }
  50% {
    transform: scale(var(--glow-scale));
    opacity: 0.35;
  }
  100% {
    transform: scale(0.85);
    opacity: 0.55;
  }
}

/* label appearance */
.label-bg {
  fill: rgba(255, 255, 255, 0.06);
  stroke: rgba(0, 255, 220, 0.65);
}

.label-year {
  font-size: 9px;
  fill: rgba(255, 255, 255, 0.75);
}

.label-title {
  font-size: 12px;
  fill: #ffffff;
  font-weight: 700;
}

/* side-specific small offsets if you want additional shifts */
.side-left .label-group {
  /* small nudge so left labels don't overlap path visually */
  transform: translateX(-6px);
}
.side-right .label-group {
  transform: translateX(6px);
}

/* glow intensity presets */
.node-low {
  --glow-scale: 1.05;
  --pulse-duration: 2200ms;
}
.node-medium {
  --glow-scale: 1.1;
  --pulse-duration: 2200ms;
}
.node-high {
  --glow-scale: 1.15;
  --pulse-duration: 1800ms;
}
.node-prime {
  --glow-scale: 1.25;
  --pulse-duration: 1800ms;
}

/* responsive tweaks */
@media (max-width: 768px) {
  .label-title {
    font-size: 11px;
  }
  .label-year {
    font-size: 8px;
  }
  .node-glow-pulse {
    animation-duration: 2400ms;
  }
}

/* tweak on-hover scale if desired */
.timeline-node:hover .node-glow-pulse {
  transform: scale(1.18);
  transition: transform 220ms ease;
}

/* small nudges applied after JS positioning */
.side-top2 .label-offset {
  transform: translateX(-36px) translateY(-20px);
} /* move up a bit */
.side-bottom2 .label-offset {
  transform: translateX(-16px) translateY(50px);
} /* move up a bit */
.side-top .label-offset {
  transform: translateY(-20px);
} /* move up a bit */
.side-bottom .label-offset {
  transform: translateY(-16px);
} /* move down */
.side-left .label-offset {
  transform: translateY(38px);
} /* left */
.side-right .label-offset {
  transform: translateX(98px);
} /* right */
.side-right2 .label-offset {
  transform: translateX(-8px) translateY(5px);
} /* right */

/* if you want different nudges for mobile */
@media (max-width: 640px) {
  .side-top .label-offset {
    transform: translateY(-20px);
  }
  .side-bottom .label-offset {
    transform: translateY(-20px);
  }
  .side-left .label-offset {
    transform: translateX(-6px) translateY(50px);
  }
  .side-right .label-offset {
    transform: translateX(80px);
  }
}

/* Timeline Orb — mini, refined, lifted */
.timeline-follower {
  position: fixed;

  /* Responsive but controlled size */
  width: clamp(20px, 2.2vw, 34px);
  height: clamp(20px, 2.2vw, 34px);
  border-radius: 50%;
  overflow: hidden;

  /* Derived from global orbCore */
  background: radial-gradient(
      circle at 30% 28%,
      rgba(3, 215, 239, 0.85),
      rgba(6, 193, 235, 0.7) 25%,
      rgba(7, 119, 225, 0.7) 45%,
      rgb(0, 85, 255) 65%,
      rgb(12, 89, 245) 100%
    ),
    radial-gradient(
      circle at 70% 75%,
      rgba(120, 235, 240, 0.45),
      rgba(70, 140, 230, 0.35) 40%,
      transparent 70%
    );

  background-blend-mode: screen;

  /* Clear depth separation from trail */
  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.45),
    /* depth shadow (critical) */ 0 0 18px rgba(90, 190, 255, 0.75),
    0 0 48px rgba(120, 255, 235, 0.45);

  /*
   * Center on path, then LIFT
   * px lift is intentional & necessary
   */
  transform: translate(-50%, -50%) translateY(32px);

  pointer-events: none;
  opacity: 0;
  z-index: 10;
}

/* Inner fluid energy (lighter than global) */
.timeline-follower::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 50%;

  background: radial-gradient(
      ellipse 65% 70% at 30% 40%,
      rgba(0, 229, 255, 0.9),
      rgba(0, 157, 255, 0.55) 60%,
      transparent 100%
    ),
    radial-gradient(
      ellipse 50% 80% at 70% 65%,
      rgba(0, 187, 255, 0.55),
      rgba(12, 100, 215, 0.45) 60%,
      transparent 100%
    );

  mix-blend-mode: screen;
  opacity: 0.85;

  animation: follower-wave 16s ease-in-out infinite alternate,
    follower-glow 6s ease-in-out infinite;
}

/* Soft outer aura */
.timeline-follower::after {
  content: "";
  position: absolute;
  inset: -70%;
  border-radius: 50%;

  background: radial-gradient(
    circle,
    rgba(120, 255, 235, 0.28),
    transparent 70%
  );

  filter: blur(16px);
  opacity: 0.85;
}

/* Subtle life — calmer than global orb */
@keyframes follower-wave {
  0% {
    transform: rotate(0deg) scale(1);
  }
  50% {
    transform: rotate(6deg) scale(1.05);
  }
  100% {
    transform: rotate(-5deg) scale(1);
  }
}

@keyframes follower-glow {
  0% {
    opacity: 0.75;
    filter: brightness(0.95);
  }
  50% {
    opacity: 1;
    filter: brightness(1.1);
  }
  100% {
    opacity: 0.75;
    filter: brightness(0.95);
  }
}
